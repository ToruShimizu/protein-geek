# メーカー一覧取得
query Makers {
  makersCollection {
    edges {
      node {
        id
        name
        src
      }
    }
  }
}

# 任意のメーカーを1件取得
query MakerById($id: BigInt!) {
  makersCollection(filter: { id: { eq: $id } }) {
    edges {
      node {
        id
        name
        src
        proteinsCollection {
          edges {
            node {
              id
              name
              src
              maker_id
            }
          }
        }
      }
    }
  }
}

# 任意のプロテインを1件取得
query ProteinById($id: BigInt!) {
  proteinsCollection(filter: { id: { eq: $id } }) {
    edges {
      node {
        id
        name
        src
        featuresCollection {
          edges {
            node {
              id
              description
            }
          }
        }
        flavorsCollection {
          edges {
            node {
              id
              name
              src
              sellersCollection {
                edges {
                  node {
                    id
                    amazon
                    rakuten
                    yahoo
                    official
                    flavor_id
                  }
                }
              }
              productsCollection {
                edges {
                  node {
                    id
                    capacity
                    price
                    flavor_id
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

# プロテインに紐づく概要や栄養素などの情報を取得
query FactsByProteinId($id: BigInt!) {
  factsCollection(filter: { protein_id: { eq: $id } }) {
    edges {
      node {
        id
        summary
        usage
        nutrientsCollection {
          edges {
            node {
              id
              name
              quantity
            }
          }
        }
      }
    }
  }
}
